[
  {
    "objectID": "Descriptiva.html#serie-valor-de-cierre-en-bolsa-diario-del-bitcoin-2017-2021",
    "href": "Descriptiva.html#serie-valor-de-cierre-en-bolsa-diario-del-bitcoin-2017-2021",
    "title": "Descriptiva",
    "section": "Serie valor de cierre en bolsa diario del bitcoin (2017-2021)",
    "text": "Serie valor de cierre en bolsa diario del bitcoin (2017-2021)"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Series de tiempo univariadas",
    "section": "",
    "text": "P√°gina web del curso ü§™.\n\n\n\n Volver arriba"
  },
  {
    "objectID": "Descrip-Jose-labores.html",
    "href": "Descrip-Jose-labores.html",
    "title": "Descriptiva-jos√©",
    "section": "",
    "text": "#datos\nBTC_Daily &lt;- read.csv(\"datos/BTC-Daily.csv\")\nData &lt;- data.frame(BTC_Daily$date,BTC_Daily$close)\nData &lt;- data.frame(BTC_Daily$date,BTC_Daily$close)\ncolnames(Data) &lt;- c(\"FechaTiempo\", \"Valor\")\n# limpiando datos faltantes\nstr(Data)\n\n'data.frame':   2651 obs. of  2 variables:\n $ FechaTiempo: chr  \"2022-03-01 00:00:00\" \"2022-02-28 00:00:00\" \"2022-02-27 00:00:00\" \"2022-02-26 00:00:00\" ...\n $ Valor      : num  43185 43179 37713 39147 39232 ...\n\nData$FechaTiempo &lt;- strftime(Data$FechaTiempo, format=\"%Y-%m-%d\")\nstr(Data)\n\n'data.frame':   2651 obs. of  2 variables:\n $ FechaTiempo: chr  \"2022-03-01\" \"2022-02-28\" \"2022-02-27\" \"2022-02-26\" ...\n $ Valor      : num  43185 43179 37713 39147 39232 ...\n\nData$FechaTiempo &lt;- as.Date(Data$FechaTiempo)\n# procesamiento de los datos\n\nBitcoin &lt;- Data %&gt;%\n      filter(FechaTiempo &gt;= as.Date(\"2017-01-01\"),\n             FechaTiempo &lt;= as.Date(\"2021-12-31\"))\nstr(Bitcoin)\n\n'data.frame':   1826 obs. of  2 variables:\n $ FechaTiempo: Date, format: \"2021-12-31\" \"2021-12-30\" ...\n $ Valor      : num  46214 47151 46483 47543 50718 ...\n\n\n\n\n\n# objeto serie de tiempo\nData_xts &lt;- xts::xts(Bitcoin$Valor, order.by = Bitcoin$FechaTiempo)\nhead(Data_xts)\n\n              [,1]\n2017-01-01  998.80\n2017-01-02 1014.10\n2017-01-03 1036.99\n2017-01-04 1122.56\n2017-01-05  994.02\n2017-01-06  891.56\n\nTSstudio::ts_info(Data_xts)\n\n The Data_xts series is a xts object with 1 variable and 1826 observations\n Frequency: daily \n Start time: 2017-01-01 \n End time: 2021-12-31 \n\nclass(Data_xts)\n\n[1] \"xts\" \"zoo\"\n\nfrequency(Data_xts)\n\n[1] 1\n\nxts::periodicity(Data_xts)\n\nDaily periodicity from 2017-01-01 to 2021-12-31 \n\nxts::tclass(Data_xts)\n\n[1] \"Date\"\n\nplot(Data_xts)\n\n\n\n\nVista de los datos para inspecci√≥n visual\n\n#TSstudio::ts_plot(Data_xts,\n #         title = \"Valor de cierre bitcoin en bolsa\",\n  #        Ytitle = \"Valor en dolares\",\n   #        Xtitle = \"Fecha\",\n    #       Xgrid = TRUE,\n     #   Ygrid = TRUE)\n\n\nVarianza marginal: Se notan periodos donde el rango de valores que puede tomar la variable se va haciendo mayor.\nComponente Estacional: No se tiene evidencia clara de un comportamiento c√≠clico en la serie.\nTendencia: Se muestra la serie no oscila sobre un valor fijo y tiene cambios abruptos de crecimiento y decrecimiento en algunos momentos.\n\n\n\n\nUsaremos la transformaci√≥n de Box-Cox para estabilizar la varianza; primero miramos el lambda\n\n#Valor de lambda\nforecast::BoxCox.lambda(Data_xts, method =\"loglik\", lower = -1, upper = 3)\n\nRegistered S3 method overwritten by 'quantmod':\n  method            from\n  as.zoo.data.frame zoo \n\n\n[1] 0\n\nMASS::boxcox(lm(Data_xts ~ 1),seq(-1/2, 1/2, length = 50))\n\n\n\n\nVemos que se sugiere el valor \\(\\lambda = 0\\) lo cual suguiere usar la funci√≥n logaritmo natural para la trasformaci√≥n as√≠ tenemos que:\n\n#trasnformaci√≥n\nlData_xts &lt;- log(Data_xts)\nplot(lData_xts)\n\n\n\n\n\n#TSstudio::ts_plot(lData_xts,\n #         title = \"Valor de Serie Trasnformada\",\n  #         Ytitle = \"Valor de la trasnformaci√≥n\",\n   #       Xtitle = \"Fecha\",\n    #      Xgrid = TRUE,\n     #      Ygrid = TRUE)\n\nAhora miramos si es necesario aplicar otra transformaci√≥n a la serie\n\n#Valor de lambda\nforecast::BoxCox.lambda(lData_xts, method =\"loglik\", lower = -1, upper = 3)\n\n[1] 0.9\n\nMASS::boxcox(lm(lData_xts ~ 1),seq(-1, 2, length = 50))\n\n\n\n\nVemos que la sugerencia es \\(\\lambda = 0.9\\) lo cual es cercano a \\(1\\), adem√°s el IC de confianza captura al \\(1\\), por ende la transformaci√≥n logar√≠tmica parece haber estabilizado la varianza.\n\n\n\nTrabajaremos a la cu√°l se le realizo la transformaci√≥n para estabilizar la varianza, realizaremos el gr√°fico de los valores de la funci√≥n de auto-correalci√≥n\n\n#ACf\nacf(lData_xts, 90, main = \"Serie Bitcoin Trasnformada\")\n\n\n\n\nNotamos que los van teniendo un decaimiento leve lo cual nos da un indicio m√°s claro de que existe tendencia en la serie as√≠ usaremos los m√©todos: lineal determinista, Descomposici√≥n de promedios m√≥viles y descomposici√≥n STL para estimar dicha componente.\n\n#pacf\npacf(lData_xts, 90, main = \"Serie Bitcoin Trasnformada\")\n\n\n\n\n\n\najustaremos el modelo eliminaremos la tendencia y analizaremos los resultados\n\n#pasar a ts para poder hacerlo\nldata_ts &lt;- TSstudio::xts_to_ts(lData_xts,frequency = 365,\n                                start = as.Date(\"2017-01-01\"))\n#modelo lineal\nsummary(fit &lt;- lm(ldata_ts~time(ldata_ts), na.action=NULL))\n\n\nCall:\nlm(formula = ldata_ts ~ time(ldata_ts), na.action = NULL)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-1.06366 -0.49265  0.01902  0.36341  1.68667 \n\nCoefficients:\n                 Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)    -1.230e+03  1.780e+01  -69.10   &lt;2e-16 ***\ntime(ldata_ts)  6.135e-01  8.813e-03   69.61   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.5439 on 1824 degrees of freedom\nMultiple R-squared:  0.7265,    Adjusted R-squared:  0.7264 \nF-statistic:  4846 on 1 and 1824 DF,  p-value: &lt; 2.2e-16\n\n\n\n# Gr√°fico\nplot(ldata_ts, ylab= \"Valor en escala logar√≠tmica\")\nabline(fit,col = \"red\")# Se a√±ade la recta ajusta\n\n\n\n\nahora eliminaremos la tendencia de la serie\n\n###Eliminamos la tendencia con la predicci√≥n la recta\nElimTenldata_ts &lt;- ldata_ts - predict(fit)\nplot(ElimTenldata_ts, main=\"Serie Sin tendencia\", \n     ylab= \"Valor en escala logar√≠tmica\")\n\n\n\nacf(ElimTenldata_ts,lag.max =length(ElimTenldata_ts), \n    main=\"Serie Sin tendencia\")\n\n\n\n\npacf(ElimTenldata_ts,lag.max =length(ElimTenldata_ts))\nObservamos que en la serie obtenida despu√©s de eliminar la tendencia lineal en el sigue teniendo un decaimiento lento de los valores de la funci√≥n de auto-correlaci√≥n para rezagos algunos rezagos dando indicios de un componente estacional\n\n\n\n\n# descomposici√≥n de promedios moviles\ndescom_ldata &lt;- decompose(ldata_ts)\nplot(descom_ldata)\n\n\n\n\nPodemos observar que usando un filtro de promedio m√≥vil la tendencia estimada no se aproxima mucho a una lineal, c√≥mo se puede apreciar en el siguiente gr√°fico; adem√°s la componente estacional no parece ser estimada de buena manera y el residual a√∫n presenta patrones estacionales.\n\n# Gr√°fico\nplot(ldata_ts, ylab= \"Valor en escala logar√≠tmica\")\nabline(fit,col = \"red\")# Se a√±ade la recta ajusta\npoints(time(ldata_ts), descom_ldata$trend, col =\"green\", cex=0.3)\n\n\n\n\nEliminaremos la tendencia del promedio m√≥vil centrado y de la frecuencia\n\n###Eliminamos la tendencia con la predicci√≥n promedio movil\nElimTenldata_ts &lt;- ldata_ts - descom_ldata$trend\nplot(ElimTenldata_ts, main=\"Serie Sin tendencia\", \n     ylab= \"Valor en escala logar√≠tmica\")\n\n\n\n\nFiltro promedio m√≥vil con solo retrasos\nIntentaremos ajustar un promedio m√≥vil que tenga en cuenta solo los retrasos y sea de los periodos de un a√±o, seis meses, tres meses y mes.\n\n#gr√°fico\nfilter_1=stats::filter(ldata_ts, filter = rep(1/365, 365), sides = 1)\nfilter_2=stats::filter(ldata_ts, filter = rep(1/182, 182), sides = 1)\nfilter_3=stats::filter(ldata_ts, filter = rep(1/90, 90), sides = 1)\nfilter_4=stats::filter(ldata_ts, filter = rep(1/30, 30), sides = 1)\nplot(ldata_ts, ylab= \"Valor en escala logar√≠tmica\")\npoints(time(ldata_ts), filter_1, col =\"green\", cex=0.33)\npoints(time(ldata_ts), filter_2, col =\"blue\", cex=0.33)\npoints(time(ldata_ts), filter_3, col =\"red\", cex=0.35)\npoints(time(ldata_ts), filter_4, col =\"cyan\", cex=0.31)\n\n\n\n#legend(locator(1), c(\"365 d√≠as\",\"182 d√≠as\",\"90 d√≠as\",\"30 d√≠as\"), col=c(\"green\",\"blue\",\"red\",\"cyan\"),lty=c(1,1,1,1),lwd=c(2,2,2,2))\n\nNotamos que para 3 meses el filtro de promedios m√≥viles muestra una mejor suavizamiento de la serie as√≠ la tomaremos como una estimaci√≥n de la tendencia\n\n###Eliminamos la tendencia con la predicci√≥n promedio movil\nElimTenldata_ts &lt;- ldata_ts - filter_3\nplot(ElimTenldata_ts, main=\"Serie Sin tendencia\", \n     ylab= \"Valor en escala logar√≠tmica\")\n\n\n\nacf(ElimTenldata_ts[90:1826],lag.max =length(ElimTenldata_ts), \n    main=\"Serie Sin tendencia\")\n\n\n\n\nEl problema con esta forma es que los primero 90 d√≠as son totalmente descartados pues no se tiene una estimaci√≥n de la tendencia para esos d√≠as con este m√©todo\n\n\n\nUsando la descomposici√≥n STL obtenemos la estimaci√≥n de la tendencia\n\nindice_ldata &lt;- sort(Bitcoin$FechaTiempo)\n#  as.Date(as.yearmon(tk_index(ldata_ts)))\n## Otra forma de extraer el indice estimetk::tk_index(lAirPass)\nlogdata &lt;- as.matrix(ldata_ts)\ndf_ldata &lt;- data.frame(Fecha=indice_ldata,logdata=as.matrix(ldata_ts))\nstr(df_ldata)\n\n'data.frame':   1826 obs. of  2 variables:\n $ Fecha   : Date, format: \"2017-01-01\" \"2017-01-02\" ...\n $ Series.1: num  6.91 6.92 6.94 7.02 6.9 ...\n\ncolnames(df_ldata) &lt;- c(\"Fecha\", \"logdata\")\nstr(df_ldata)\n\n'data.frame':   1826 obs. of  2 variables:\n $ Fecha  : Date, format: \"2017-01-01\" \"2017-01-02\" ...\n $ logdata: num  6.91 6.92 6.94 7.02 6.9 ...\n\ntibble_ldata &lt;- tibble(df_ldata)\n####Primera aproximaci√≥n del ajuste STL\ntibble_ldata%&gt;%timetk::plot_time_series(Fecha, logdata, \n                   .interactive = TRUE,\n                   .plotly_slider = TRUE)\n\n\n\n\n\n\n#####Ajuste STL\n#Note que obtenemos un objeto adicional en tibble_logpasajeros con Logpasa_ajus con par√°metros que se pueden mover.\nlogdata_ajus &lt;- smooth_vec(logdata,span = 0.75, degree = 2)\ntibble_ldata%&gt;%dplyr::mutate(logdata_ajus)\n\n# A tibble: 1,826 √ó 3\n   Fecha      logdata logdata_ajus\n   &lt;date&gt;       &lt;dbl&gt;        &lt;dbl&gt;\n 1 2017-01-01    6.91         6.90\n 2 2017-01-02    6.92         6.91\n 3 2017-01-03    6.94         6.91\n 4 2017-01-04    7.02         6.92\n 5 2017-01-05    6.90         6.92\n 6 2017-01-06    6.79         6.93\n 7 2017-01-07    6.80         6.94\n 8 2017-01-08    6.81         6.94\n 9 2017-01-09    6.80         6.95\n10 2017-01-10    6.81         6.96\n# ‚Ñπ 1,816 more rows\n\n###Ajuste STL moviendo los par√°metros\ntibble_ldata%&gt;%mutate(logdata_ajus=smooth_vec(logdata,span = 0.75, degree = 2))%&gt;%\n  ggplot(aes(Fecha, logdata)) +\n    geom_line() +\n    geom_line(aes(y = logdata_ajus), color = \"red\")\n\n\n\n\nAhora con esta estimaci√≥n eliminaremos la tendencia\n\n###Eliminamos la tendencia con la predicci√≥n la recta xts\nElimTenldata_xts &lt;- lData_xts - logdata_ajus\nplot(ElimTenldata_xts, main=\"Serie Sin tendencia\", \n     ylab= \"Valor en escala logar√≠tmica\")\n\n\n\nacf(ElimTenldata_xts,lag.max =length(ElimTenldata_xts), \n    main=\"Serie Sin tendencia\")\n\n\n\n\n\n###Eliminamos la tendencia con la predicci√≥n la recta xts\nElimTenldata_ts &lt;- ldata_ts - logdata_ajus\nplot(ElimTenldata_ts, main=\"Serie Sin tendencia\", \n     ylab= \"Valor en escala logar√≠tmica\")\n\n\n\nacf(ElimTenldata_ts,lag.max =length(ElimTenldata_xts), \n    main=\"Serie Sin tendencia\")\n\n\n\n\nVemos que a diferencia de los promedio m√≥viles si tenemos una estimaci√≥n para todos los valores de la serie, adem√°s notamos que la funci√≥n de auto-correlaci√≥n tiene un decaimiento leve y denota como un patr√≥n d√°ndonos indicios de una posible componente estacional.\n\n\n\n\n\n###Diferenciando con base en el objeto ts\ndldata&lt;-diff(ldata_ts)\nplot(dldata)\nabline(h=0, col = \"red\")\n\n\n\nacf(dldata,lag.max =90, main=\"Serie Diferenciada\")\n\n\n\n\n\n###Diferenciando con base en el objeto xts\ndldata_xts&lt;-diff(lData_xts)\ndldata_xts &lt;- dldata_xts[-1]\nplot(dldata_xts)\n\n\n\nacf(dldata_xts,lag.max =90, main=\"Serie Diferenciada\")\n\n\n\n\nVemos que la serie al ser diferenciada muestra un comportamiento estacionario pues los valores oscilan sobre un valor fijo, adem√°s en la gr√°fica de la funci√≥n de auto-correlaci√≥n los valores no superan el umbral, por ende no se tiene relaci√≥n lineal con los retrasos.\n\n\n\nHaremos una gr√°fica de retardos con el valor actual para ver si existe podemos tener indicios relaci√≥n no-lineal.\n\n#serie transformada\npar(mar = c(3,2,3,2))\nastsa::lag1.plot(lData_xts, 16,corr=F)\n\n\n\n\nNotamos que para todos los retrados se evidencia que para todos los rezagos se tiene una fuerte correlaci√≥n lineal con el valor actual\n\n# Series trasnfromada sin tendencia STL\npar(mar = c(3,2,3,2))\nastsa::lag1.plot(ElimTenldata_xts, 16,corr=F)\n\n\n\n\nPara la serie sin tendencia seguimos viendo en todos los retardos una fuerte asociaci√≥n lineal, a pesar de que la componente de tendencia fue eliminada lo cual empieza a darnos indicios de que el comportamiento de nuestra serie podr√≠a ser determinado por una caminata aleatoria pues parece no cambiar su estructura con los m√©todos usuales para una lidiar tendencias deterministas\n\n#serie trasnfromada difereniada\npar(mar = c(3,2,3,2))\nastsa::lag1.plot(dldata, 16,corr=T)\n\n\n\n\nObservamos que para la serie diferenciada la relaci√≥n lineal que mostraban todos los retardos ahora es inexistente todos los retardos se ven no correlacionados; lo cual da otro indicio de que la serie podr√≠a tratarse de una caminata aleatoria pues la diferenciaci√≥n es un buen m√©todo para eliminar tendencias estoc√°sticas.\n\n\n\nUsaremos el √≠ndice AMI el cual nos da informaci√≥n acerca de que tanto conocimiento podemos tener una variable aleatoria con otras para nuestro caso que tanto podemos saber de \\(X_{t+d}\\) al observar \\(X_t\\) .\n\n#serie transformada\ntseriesChaos::mutual(lData_xts, partitions = 50, lag.max = 100, plot=TRUE)\n\n\n\n# Series trasnfromada sin tendencia STL\ntseriesChaos::mutual(ElimTenldata_xts, partitions = 50, lag.max = 100, plot=TRUE)\n\n\n\n\nVemos que c√≥mo en el caso anterior no hay gran diferencia entre la serie con y sin 4tendencia, adem√°s vemos un decaimiento lento del √≠ndice AMI para los primeros rezagos\n\n#serie trasnfromada difereniada\ntseriesChaos::mutual(dldata, partitions = 50, lag.max = 100, plot=TRUE)\n\n\n\n\nNotamos c√≥mo para la serie diferenciada los valores son bastante cercanos a \\(0\\) para los rezagos mas cercanos; as√≠ con esto y la informaci√≥n dada por las anteriores gr√°ficas las sospechas de que la series se pueda modelar por medio de un caminata aleatoria se hacen m√°s fuertes.\n\n\n\n\n\n\n#Tendencia eliminada\nTSstudio::ts_heatmap(ElimTenldata_xts, title = \"Mapa de calor - Cierre Bitcoin en bolsa semana a√±o\")\n\n\n\n\n#\nTSstudio::ts_heatmap(ElimTenldata_ts, title = \"Mapa de calor - Cierre Bitcoin en bolsa dias a√±o\")\n\n\n\n\n\nNotamos que para la serie con la tendencia elimindad con STL con el mapa de calor parece que no existir patr√≥n semanal a medida que transcurre el a√±o y tampoco existir un patr√≥n semanal en el transcurrir del a√±o.\n\n#Serie diferenciada\nTSstudio::ts_heatmap(dldata_xts, title = \"Mapa de calor - Cierre Bitcoin en bolsa dias a√±o\")\n\n\n\n\n\nPara la serie diferenciada no se evidencia ninguno tipo de patr√≥n.\n\n\n\n\n# periodograma\nPeriodograma &lt;- spectrum(as.numeric(ElimTenldata_xts),log=\"no\",span=c(5,5))\n\n\n\n#\nubicacionElim &lt;- which.max(Periodograma$spec)\nsprintf(\"El valor de la frecuencia donde se m√°ximiza el periodograma para la serie es: %s\",Periodograma$freq[ubicacionElim])\n\n[1] \"El valor de la frecuencia donde se m√°ximiza el periodograma para la serie es: 0.0016\"\n\n#\nsprintf(\"El periodo correspondiente es aproximadamente: %s\",1/Periodograma$freq[ubicacionElim])\n\n[1] \"El periodo correspondiente es aproximadamente: 625\"\n\n\nPara la serie donde se elimina la tendencia con STL el periodograma nos da un valor de \\(\\omega = \\frac{1}{625} = 0.0016\\) lo que se corresponde son un periodo \\(s = 625\\) lo cual corresponde a casi dos a√±os. Es de destacar que el valor de la frecuencia es cercano a cero.\n\n# periodograma\nPeriodograma &lt;- spectrum(as.numeric(dldata_xts),log=\"no\",span=c(5,5))\n\n\n\n#\nubicacionDif &lt;- which.max(Periodograma$spec)\nsprintf(\"El valor de la frecuencia donde se m√°ximiza el periodograma para la serie es: %s\",Periodograma$freq[ubicacionDif])\n\n[1] \"El valor de la frecuencia donde se m√°ximiza el periodograma para la serie es: 0.4016\"\n\n#\nsprintf(\"El periodo correspondiente es aproximadamente: %s\",1/Periodograma$freq[ubicacionDif])\n\n[1] \"El periodo correspondiente es aproximadamente: 2.49003984063745\"\n\n\nPara la serie diferenciada el periodograma no es claro, a pesar del suviazamiento usado la curva sigue mostrando varios picos en su recorrido el m√°ximo lo encontramos de tal manera que \\(\\omega = \\frac{251}{625}=0.416\\) lo cual se corresponde con un \\(s \\approx 2.5\\) .\n\n# intentando sacar el segundo m√°s alto\nn_dld &lt;- length(Periodograma$spec)\nvalor_seg &lt;- sort(Periodograma$spec,partial=n_dld-1)[n_dld-1]\nubica_segundo &lt;- which(Periodograma$spec==valor_seg)\n\nsprintf(\"El valor de la frecuencia donde se alcanza el segundo m√°ximo para el periodograma para REC es: %s\",Periodograma$freq[ubica_segundo])\n\n[1] \"El valor de la frecuencia donde se alcanza el segundo m√°ximo para el periodograma para REC es: 0.401066666666667\"\n\n#\nsprintf(\"El periodo correspondiente es aproximadamente: %s\",1/Periodograma$freq[ubica_segundo])\n\n[1] \"El periodo correspondiente es aproximadamente: 2.49335106382979\"\n\n\nvemos que el segundo valor es bastante parecido al segundo.\n\n# valor de frecuencia \ntail(sort(Periodograma$spec))\n\n[1] 0.004895118 0.004914000 0.005095353 0.005470611 0.005752230 0.005966273\n\n\nC√≥mo se puede observar los primeros seis valores son bastante cercanos entre ellos, lo cual deja dudas de si en realidad tenemos un comportamiento ciclico."
  },
  {
    "objectID": "Descrip-Jose-labores.html#serie-diferenciada",
    "href": "Descrip-Jose-labores.html#serie-diferenciada",
    "title": "Descriptiva-jos√©",
    "section": "",
    "text": "###Diferenciando con base en el objeto ts\ndldata&lt;-diff(ldata_ts)\nplot(dldata)\nabline(h=0, col = \"red\")\n\n\n\nacf(dldata,lag.max =90, main=\"Serie Diferenciada\")\n\n\n\n\n\n###Diferenciando con base en el objeto xts\ndldata_xts&lt;-diff(lData_xts)\ndldata_xts &lt;- dldata_xts[-1]\nplot(dldata_xts)\n\n\n\nacf(dldata_xts,lag.max =90, main=\"Serie Diferenciada\")\n\n\n\n\nVemos que la serie al ser diferenciada muestra un comportamiento estacionario pues los valores oscilan sobre un valor fijo, adem√°s en la gr√°fica de la funci√≥n de auto-correlaci√≥n los valores no superan el umbral, por ende no se tiene relaci√≥n lineal con los retrasos."
  },
  {
    "objectID": "Descrip-Jose-labores.html#gr√°fica-de-retardos",
    "href": "Descrip-Jose-labores.html#gr√°fica-de-retardos",
    "title": "Descriptiva-jos√©",
    "section": "",
    "text": "Haremos una gr√°fica de retardos con el valor actual para ver si existe podemos tener indicios relaci√≥n no-lineal.\n\n#serie transformada\npar(mar = c(3,2,3,2))\nastsa::lag1.plot(lData_xts, 16,corr=F)\n\n\n\n\nNotamos que para todos los retrados se evidencia que para todos los rezagos se tiene una fuerte correlaci√≥n lineal con el valor actual\n\n# Series trasnfromada sin tendencia STL\npar(mar = c(3,2,3,2))\nastsa::lag1.plot(ElimTenldata_xts, 16,corr=F)\n\n\n\n\nPara la serie sin tendencia seguimos viendo en todos los retardos una fuerte asociaci√≥n lineal, a pesar de que la componente de tendencia fue eliminada lo cual empieza a darnos indicios de que el comportamiento de nuestra serie podr√≠a ser determinado por una caminata aleatoria pues parece no cambiar su estructura con los m√©todos usuales para una lidiar tendencias deterministas\n\n#serie trasnfromada difereniada\npar(mar = c(3,2,3,2))\nastsa::lag1.plot(dldata, 16,corr=T)\n\n\n\n\nObservamos que para la serie diferenciada la relaci√≥n lineal que mostraban todos los retardos ahora es inexistente todos los retardos se ven no correlacionados; lo cual da otro indicio de que la serie podr√≠a tratarse de una caminata aleatoria pues la diferenciaci√≥n es un buen m√©todo para eliminar tendencias estoc√°sticas."
  },
  {
    "objectID": "Descrip-Jose-labores.html#ami",
    "href": "Descrip-Jose-labores.html#ami",
    "title": "Descriptiva-jos√©",
    "section": "",
    "text": "Usaremos el √≠ndice AMI el cual nos da informaci√≥n acerca de que tanto conocimiento podemos tener una variable aleatoria con otras para nuestro caso que tanto podemos saber de \\(X_{t+d}\\) al observar \\(X_t\\) .\n\n#serie transformada\ntseriesChaos::mutual(lData_xts, partitions = 50, lag.max = 100, plot=TRUE)\n\n\n\n# Series trasnfromada sin tendencia STL\ntseriesChaos::mutual(ElimTenldata_xts, partitions = 50, lag.max = 100, plot=TRUE)\n\n\n\n\nVemos que c√≥mo en el caso anterior no hay gran diferencia entre la serie con y sin 4tendencia, adem√°s vemos un decaimiento lento del √≠ndice AMI para los primeros rezagos\n\n#serie trasnfromada difereniada\ntseriesChaos::mutual(dldata, partitions = 50, lag.max = 100, plot=TRUE)\n\n\n\n\nNotamos c√≥mo para la serie diferenciada los valores son bastante cercanos a \\(0\\) para los rezagos mas cercanos; as√≠ con esto y la informaci√≥n dada por las anteriores gr√°ficas las sospechas de que la series se pueda modelar por medio de un caminata aleatoria se hacen m√°s fuertes."
  },
  {
    "objectID": "Descrip-Jose-labores.html#an√°lisis-de-estacionalidad",
    "href": "Descrip-Jose-labores.html#an√°lisis-de-estacionalidad",
    "title": "Descriptiva-jos√©",
    "section": "",
    "text": "#Tendencia eliminada\nTSstudio::ts_heatmap(ElimTenldata_xts, title = \"Mapa de calor - Cierre Bitcoin en bolsa semana a√±o\")\n\n\n\n\n#\nTSstudio::ts_heatmap(ElimTenldata_ts, title = \"Mapa de calor - Cierre Bitcoin en bolsa dias a√±o\")\n\n\n\n\n\nNotamos que para la serie con la tendencia elimindad con STL con el mapa de calor parece que no existir patr√≥n semanal a medida que transcurre el a√±o y tampoco existir un patr√≥n semanal en el transcurrir del a√±o.\n\n#Serie diferenciada\nTSstudio::ts_heatmap(dldata_xts, title = \"Mapa de calor - Cierre Bitcoin en bolsa dias a√±o\")\n\n\n\n\n\nPara la serie diferenciada no se evidencia ninguno tipo de patr√≥n.\n\n\n\n\n# periodograma\nPeriodograma &lt;- spectrum(as.numeric(ElimTenldata_xts),log=\"no\",span=c(5,5))\n\n\n\n#\nubicacionElim &lt;- which.max(Periodograma$spec)\nsprintf(\"El valor de la frecuencia donde se m√°ximiza el periodograma para la serie es: %s\",Periodograma$freq[ubicacionElim])\n\n[1] \"El valor de la frecuencia donde se m√°ximiza el periodograma para la serie es: 0.0016\"\n\n#\nsprintf(\"El periodo correspondiente es aproximadamente: %s\",1/Periodograma$freq[ubicacionElim])\n\n[1] \"El periodo correspondiente es aproximadamente: 625\"\n\n\nPara la serie donde se elimina la tendencia con STL el periodograma nos da un valor de \\(\\omega = \\frac{1}{625} = 0.0016\\) lo que se corresponde son un periodo \\(s = 625\\) lo cual corresponde a casi dos a√±os. Es de destacar que el valor de la frecuencia es cercano a cero.\n\n# periodograma\nPeriodograma &lt;- spectrum(as.numeric(dldata_xts),log=\"no\",span=c(5,5))\n\n\n\n#\nubicacionDif &lt;- which.max(Periodograma$spec)\nsprintf(\"El valor de la frecuencia donde se m√°ximiza el periodograma para la serie es: %s\",Periodograma$freq[ubicacionDif])\n\n[1] \"El valor de la frecuencia donde se m√°ximiza el periodograma para la serie es: 0.4016\"\n\n#\nsprintf(\"El periodo correspondiente es aproximadamente: %s\",1/Periodograma$freq[ubicacionDif])\n\n[1] \"El periodo correspondiente es aproximadamente: 2.49003984063745\"\n\n\nPara la serie diferenciada el periodograma no es claro, a pesar del suviazamiento usado la curva sigue mostrando varios picos en su recorrido el m√°ximo lo encontramos de tal manera que \\(\\omega = \\frac{251}{625}=0.416\\) lo cual se corresponde con un \\(s \\approx 2.5\\) .\n\n# intentando sacar el segundo m√°s alto\nn_dld &lt;- length(Periodograma$spec)\nvalor_seg &lt;- sort(Periodograma$spec,partial=n_dld-1)[n_dld-1]\nubica_segundo &lt;- which(Periodograma$spec==valor_seg)\n\nsprintf(\"El valor de la frecuencia donde se alcanza el segundo m√°ximo para el periodograma para REC es: %s\",Periodograma$freq[ubica_segundo])\n\n[1] \"El valor de la frecuencia donde se alcanza el segundo m√°ximo para el periodograma para REC es: 0.401066666666667\"\n\n#\nsprintf(\"El periodo correspondiente es aproximadamente: %s\",1/Periodograma$freq[ubica_segundo])\n\n[1] \"El periodo correspondiente es aproximadamente: 2.49335106382979\"\n\n\nvemos que el segundo valor es bastante parecido al segundo.\n\n# valor de frecuencia \ntail(sort(Periodograma$spec))\n\n[1] 0.004895118 0.004914000 0.005095353 0.005470611 0.005752230 0.005966273\n\n\nC√≥mo se puede observar los primeros seis valores son bastante cercanos entre ellos, lo cual deja dudas de si en realidad tenemos un comportamiento ciclico."
  },
  {
    "objectID": "Serie Exportaciones.html",
    "href": "Serie Exportaciones.html",
    "title": "Descriptiva Serie Exportaciones",
    "section": "",
    "text": "# Graficar objeto de tipo ts\nplot(exportaciones_ts, main = \"Serie original\")\n\n\n\n\n\n#Graficar din√°mico\nTSstudio::ts_plot(exportaciones_ts,title=\"Serie Exportaciones Original\",slider=TRUE)\n\n\n\n\n\n\n#Gr√°fico din√°mico con dygraphs\ndygraph(exportaciones_ts,main=\"Serie de Exportaciones Mensuales en Colombia\", ylab=\"Valor total de las exportaciones\")%&gt;% dyRangeSelector()\n\n\n\n\n\n\n#Obtener informaci√≥n del objeto de tipo ts\nTSstudio::ts_info(exportaciones_ts)\n\n The exportaciones_ts series is a ts object with 1 variable and 282 observations\n Frequency: 12 \n Start time: 2000 1 \n End time: 2023 6 \n\n\n\n##Gr√°fica de la serie con tsibble\nautoplot(exportaciones_tsbl,Valor)+labs(title=\"Serie de Exportaciones Mensuales en Colombia\",y=\"Exportaciones en miles de d√≥lares\")\n\n\n\n\n\n\n\n Volver arriba"
  },
  {
    "objectID": "Descriptiva-Serie-Exportaciones.html",
    "href": "Descriptiva-Serie-Exportaciones.html",
    "title": "Descriptiva-Serie-Exportaciones",
    "section": "",
    "text": "library(TSstudio)\nlibrary(zoo)\n\n\nAttaching package: 'zoo'\n\n\nThe following objects are masked from 'package:base':\n\n    as.Date, as.Date.numeric\n\nlibrary(xts)\nlibrary(readxl)\nlibrary(tidyverse)\n\n‚îÄ‚îÄ Attaching core tidyverse packages ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse 2.0.0 ‚îÄ‚îÄ\n‚úî dplyr     1.1.3     ‚úî readr     2.1.4\n‚úî forcats   1.0.0     ‚úî stringr   1.5.0\n‚úî ggplot2   3.4.3     ‚úî tibble    3.2.1\n‚úî lubridate 1.9.2     ‚úî tidyr     1.3.0\n‚úî purrr     1.0.2     \n\n\n‚îÄ‚îÄ Conflicts ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse_conflicts() ‚îÄ‚îÄ\n‚úñ dplyr::filter() masks stats::filter()\n‚úñ dplyr::first()  masks xts::first()\n‚úñ dplyr::lag()    masks stats::lag()\n‚úñ dplyr::last()   masks xts::last()\n‚Ñπ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(feasts)\n\nLoading required package: fabletools\n\nlibrary(fable)\nlibrary(timetk)\nlibrary(tsibble)\n\n\nAttaching package: 'tsibble'\n\nThe following object is masked from 'package:lubridate':\n\n    interval\n\nThe following object is masked from 'package:zoo':\n\n    index\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, union\n\nlibrary(lubridate)\nlibrary(dygraphs)\nlibrary(MASS)\n\n\nAttaching package: 'MASS'\n\nThe following object is masked from 'package:dplyr':\n\n    select\n\n\n\nExportaciones mensuales de Colombia\n\n#Gr√°fico din√°mico con dygraphs\ndygraph(exportaciones_ts,main=\"Serie de Exportaciones Mensuales en Colombia\", ylab=\"Valor total de las exportaciones\")%&gt;% dyRangeSelector()\n\n\n\n\n\n\n#Obtener informaci√≥n del objeto de tipo ts\nTSstudio::ts_info(exportaciones_ts)\n\n The exportaciones_ts series is a ts object with 1 variable and 282 observations\n Frequency: 12 \n Start time: 2000 1 \n End time: 2023 6 \n\n\nLa serie de tiempo de exportaciones de Colombia presnetada en el gr√°fico es una serie de tiempo mensual con frecuencia 12 con valores desde enero del 2000 hasta junio del 2023, sin ninguna observaci√≥n faltante, o sea que cuenta con 282 observaciones. Del gr√°fico podemos suponer las siguientes caracter√≠sticas de la serie:\n\nVarianza marginal: La serie pareciera tener varianza marginal no constante, pues su rango de valores resulta ser peque√±o en ciertos periodos de tiempo y grande en otros. Por ejemplo, de noviembre de 2008 a febrero de 2011 hay un rango grande, de marzo de 2011 a octubre de 2014 hay un rango peque√±o y de noviembre de 2014 a febrero de 2016 hay de nuevo un rango grande.\nTendencia: A simple vista la serie presenta una tendencia determin√≠stica lineal creciente en los primeros a√±os de observaci√≥n. Sin embargo, desde el a√±o 2011 la serie no sigue el mismo patr√≥n y su tendencia empieza a variar por periodos de tiempo, por lo que se puede pensar en una tendencia de tipo estoc√°stico.\nComponente Estacional: Haciendo una observaci√≥n detallada de la serie acortando los a√±os con ayuda del gr√°fico din√°mico, se puede ver que la serie presenta picos en los meses de mayo y noviembre. Por los que se cree que hay existencia de estacionalidad de periodo 6 meses.\n\n\nEstabilizaci√≥n de la Varianza\nA continuaci√≥n se evaluar√° si es necesario y conveniente hacer una tranformaci√≥n de Box-Cox para estabilizar la varianza marginal de la serie.\nVeremos primero qu√© valores del par√°metro lambda de la transformaci√≥n de Box-Cox nos maximiza la log-verosimilitud. Si estos valores est√°n lejos de 1 se sugiere hacer una transformaci√≥n de Box-Cox.\n\nMASS::boxcox(lm(exportaciones_ts ~ 1),seq(-1, 2, length = 500))\n\n\n\n\nA patir de la gr√°fica anterior se verifica que los valores de lambda que maximizan la log-verosimilitud estan alrededor de 0.6, con un intervalo que no incluye al 1. Se toma la decisi√≥n de transformar la serie con lambda igual a \\(0.6\\) y se observam los resultados en comparaci√≥n con la serie original.\n\nlexportaciones_ts &lt;- (1/0.6)*((exportaciones_ts^(0.6))-1)\n\n\npar(mar = c(1,1,1,1))\npar(mfrow=c(1,2))\ndygraph(exportaciones_ts,main=\"Serie de Exportaciones Mensuales en Colombia\", ylab=\"Valor total de las exportaciones\")%&gt;% dyRangeSelector()\n\n\n\n\ndygraph(lexportaciones_ts,main=\"Serie transformada con lambda=0.6\", ylab=\"Valor\")%&gt;% dyRangeSelector()\n\n\n\n\n\nSe nota un ligero cambio en la varianza marginal de la serie, en particular una disminuci√≥n general de la varianza marginal. Se verifican los valores del par√°metro lambda de la transforaci√≥n de Box-Cox que maximizan la log-verosimilitud de la serie transformada.\n\nMASS::boxcox(lm(lexportaciones_ts ~ 1),seq(-1, 2, length = 500))\n\n\n\n\nEl valor de lambda que maximiza la log-verosimilitud sobre la serie transformada es ahora muy cercano a 1, por lo que se considera una buena transformaci√≥n. Sin embargo, dado que el cambio no es muy notorio se toma la recomendaci√≥n de ser flexibles con el valor de lambda y se realiza una transformaci√≥n que es m√°s notoria y que cumple con incluir al uno entre los valores de lambda que maximizan la verosimilitud.\nEl valor usado ser√° lambda = 0.45, obteniendo los resultados siguientes\n\nlexportaciones_ts &lt;- (1/0.45)*((exportaciones_ts^(0.45))-1)\n\n\npar(mar = c(1,1,1,1))\npar(mfrow=c(2,1))\ndygraph(exportaciones_ts,main=\"Serie de Exportaciones Mensuales en Colombia\", ylab=\"Valor total de las exportaciones\")%&gt;% dyRangeSelector()\n\n\n\n\ndygraph(lexportaciones_ts,main=\"Serie transformada con lambda=0.45\", ylab=\"Valor\")%&gt;% dyRangeSelector()\n\n\n\n\n\n\nMASS::boxcox(lm(lexportaciones_ts ~ 1),seq(-1, 5, length = 500))\n\n\n\n\nSe decide continuar con esta √∫ltima serie obtenida.\n\n#Otras opciones de transformaci√≥n \nlibrary(VGAM)\n\nLoading required package: stats4\n\n\nLoading required package: splines\n\nprueba&lt;-VGAM::yeo.johnson(exportaciones_ts, lambda = 0.4)\n\n\ndygraph(prueba,main=\"Serie transformada con yeo.jhonson\", ylab=\"Valor\")%&gt;% dyRangeSelector()\n\n\n\n\n\n\n\nAn√°lisis de Tendencia\nInicialmente revisaremos la funci√≥n de autocorrelaci√≥n, pues su forma nos dar√° indicios de si exisste tendencia o no.\n\nacf(lexportaciones_ts, 36, main = \"ACF de la serie estabilizada\")\n\n\n\n\nLa serie presenta alta autocorrelaci√≥n de los rezagos con un decaimiento leve a medida que el rezago es mayor, estoo es un indicio de que la serie presenta tendencia. A continuaci√≥n se realizaran ajustes determin√≠sticos de la misma.\n\nAjuste determin√≠stico lineal\n\nsummary(fit &lt;- lm(lexportaciones_ts~time(lexportaciones_ts), na.action=NULL))\n\n\nCall:\nlm(formula = lexportaciones_ts ~ time(lexportaciones_ts), na.action = NULL)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-633.53 -195.39  -61.69  170.42  666.72 \n\nCoefficients:\n                          Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)             -81496.270   4705.423  -17.32   &lt;2e-16 ***\ntime(lexportaciones_ts)     41.382      2.339   17.69   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 266.5 on 280 degrees of freedom\nMultiple R-squared:  0.5278,    Adjusted R-squared:  0.5261 \nF-statistic:   313 on 1 and 280 DF,  p-value: &lt; 0.00000000000000022\n\n\n\nplot(lexportaciones_ts, main= \"Tendencia lineal ajustada\")\nabline(fit,col = \"red\")# Se a√±ade la recta ajusta\n\n\n\n\n\n\nSerie sin tendencia\n\nnoTendlexportaciones_ts &lt;- lexportaciones_ts - predict(fit)\nplot(noTendlexportaciones_ts, main=\"Serie Sin tendencia\", \n     ylab= \"Valor\")\n\n\n\n\n\nacf(noTendlexportaciones_ts,lag.max =length(noTendlexportaciones_ts), \n    main=\"ACF Serie Sin tendencia\")\n\n\n\n\n\n\nAjuste por medio de filtro de promedios m√≥viles\n\ndescom_lexportaciones &lt;- decompose(lexportaciones_ts)\nplot(descom_lexportaciones)\n\n\n\n\n\nplot(lexportaciones_ts, ylab= \"Valor en escala logar√≠tmica\")\nabline(fit,col = \"red\")# Se a√±ade la recta ajusta\npoints(time(lexportaciones_ts), descom_lexportaciones$trend, col =\"green\", cex=0.4)\n\n\n\n\nLa l√≠nea de tendencia ajustada po medio del filtro de promedios m√≥viles es muy distinta a la l√≠nea de tendencia lineal ajustada. Veamos como queda la serie al eliminar la tendencia usando este ajuste.\n\nnoTendlexportaciones_ts2 &lt;- lexportaciones_ts - descom_lexportaciones$trend\nplot(noTendlexportaciones_ts2, main=\"Serie Sin tendencia\", \n     ylab= \"Valor\")\n\n\n\n\nSe observa que esta estimaci√≥n de la tendencia se ajusta mejor, pues al eliminar la tendencia la serie oscila constantemente alrededor de cero.\nSin embargo, a pesar que se estabiliz√≥ la varianza previamente, se sigue notando algo de varianza marginal no constante y de forma m√°s notoria. Al inicio varinza baja y al final varianza alta.\n\nacf(noTendlexportaciones_ts2[7:276],lag.max =length(noTendlexportaciones_ts2), \n    main=\"ACF serie Sin tendencia\")\n\n\n\n\n\nacf(noTendlexportaciones_ts2[7:276],lag.max =48, \n    main=\"ACF serie Sin tendencia\")\n\n\n\n\n\n\n\n\nDescomposici√≥n STL\n\n####Primera aproximaci√≥n del ajuste STL\nlexportaciones_tbl%&gt;%timetk::plot_time_series(Fecha, lexportaciones, \n                   .interactive = TRUE,\n                   .plotly_slider = TRUE)\n\n\n\n\n\n\n#####Ajuste STL\n\nlexportaciones_ajus &lt;- smooth_vec(lexportaciones,span = 0.75, degree = 2)\nlexportaciones_tbl%&gt;%dplyr::mutate(lexportaciones_ajus)\n\n# A tibble: 282 √ó 3\n   Fecha      lexportaciones lexportaciones_ajus\n   &lt;date&gt;              &lt;dbl&gt;               &lt;dbl&gt;\n 1 2000-01-01          1117.               1021.\n 2 2000-02-01          1138.               1026.\n 3 2000-03-01          1138.               1031.\n 4 2000-04-01          1053.               1036.\n 5 2000-05-01          1182.               1041.\n 6 2000-06-01          1186.               1046.\n 7 2000-07-01          1162.               1051.\n 8 2000-08-01          1226.               1056.\n 9 2000-09-01          1162.               1061.\n10 2000-10-01          1102.               1067.\n# ‚Ñπ 272 more rows\n\n\n\n###Ajuste STL moviendo los par√°metros\nlexportaciones_tbl%&gt;%mutate(lexportaciones_ajus=smooth_vec(lexportaciones,span = 0.75, degree = 2))%&gt;%\n  ggplot(aes(Fecha, lexportaciones)) +\n    geom_line() +\n    geom_line(aes(y = lexportaciones_ajus), color = \"red\")\n\n\n\n\nSe observa que el ajuste es mucho m√°s suavizado.\n\n###Eliminamos la tendencia con la predicci√≥n la recta xts\nnoTendlexportaciones_ts3 &lt;- lexportaciones_ts - lexportaciones_ajus\nplot(noTendlexportaciones_ts3, main=\"Serie Sin tendencia\", \n     ylab= \"Valor en escala logar√≠tmica\") \n\n\n\n\n\nacf(noTendlexportaciones_ts3,lag.max =length(noTendlexportaciones_ts3), \n    main=\"ACF serie Sin tendencia\")\n\n\n\n\n\nSerie Diferenciada\n\n###Diferenciando con base en el objeto ts\ndlexportaciones&lt;-diff(lexportaciones_ts)\nplot(dlexportaciones)\nabline(h=0, col = \"red\")\n\n\n\n\nAl observar la serie diferenciada se hace m√°s evidente la presencia de varianza marginal no constante en la serie, lo que quiere decir que las tansformaci√≥n no la ha corregido lo suficiente.\n\nacf(dlexportaciones,lag.max =length(dlexportaciones), main=\"ACF de la Serie Diferenciada\")\n\n\n\n\n\nacf(dlexportaciones,lag.max =100, main=\"ACF de la Serie Diferenciada\")\n\n\n\n\nVarios rezagos superan el umbral de autocorrelaci√≥n, en especial los que se encuentran cerca a las unidades. Por lo que se cree que hay presencia de una componente estacional de periodo 12.\nDadas las anteriores estimaciones de la tendencia y analizando cada una de las series con dichas tendencias estimadas eliminadas, se opta por continuar el estudio de la serie sin la tendencia dada por el filtro de promedios m√≥viles y con la serie con la tendencia eliminada por medio de la diferenciaci√≥n de la serie.\n\n\nAn√°lisis de Estacionalidad\nA continuaci√≥n se busca determinar si la serie presenta una componente estacional con la ayuda de diversos m√©todos. Se aplican los m√©todos sobre las series que fueron elegidas en la secci√≥n anterior.\n\nCorrelaci√≥n de las observaciones con sus retardos\nSe observa que tan correlacionadas estan las observaciones con sus retardos desde el 1 hasta el 12. Primero los resultados con la serie obtenida al estimar la tendencia con filtro de promedios m√≥viles.\n\npar(mar = c(3,2,3,2))\nastsa::lag1.plot(noTendlexportaciones_ts2[7:276], 12,corr=T)\n\n\n\n\nLas correlaciones negativas que m√°s destacan son las de los rezagos 4, 5 y 6. Y las positivas que mas destacan son las de los rezagos 1 y 12.\nAhora veamos de la serie diferenciada:\n\npar(mar = c(3,2,3,2))\nastsa::lag1.plot(dlexportaciones, 12,corr=T)\n\n\n\n\nLas correlaciones negativas que destacan son las de los rezagos 1 y 6, y la positiva es la del rezago 12. Coinciden en ser correlaciones negativas las del rezago 6 para ambos casos y en ser correlaciones positivas las del rezago 12 en ambos casos. Por lo que se sospecha de un ciclo estacional anual.\n\n\nFunci√≥n de autocorrelaci√≥n parcial\n\n#pacf\npacf(noTendlexportaciones_ts2[7:276], 100, main = \"PACF Serie sin tendencia\")\n\n\n\n\n\n#pacf\npacf(dlexportaciones, 100, main = \"PACF Serie Diferenciada\")\n\n\n\n\n\n\nAMI\nSobre la serie ajustada por medio del filtro de promedios m√≥viles\n\ntseriesChaos::mutual(noTendlexportaciones_ts2[7:276], partitions = 16, lag.max = 50, plot=TRUE)\n\n\n\n\nAhora veamos sobre la serie diferenciada:\n\ntseriesChaos::mutual(dlexportaciones, partitions = 16, lag.max = 50, plot=TRUE)\n\n\n\n\n\n\nMapas de calor\nCon la serie sin tendencia:\n\nprueba&lt;-xts(noTendlexportaciones_ts2[7:276],indice[7:276])\n\nTSstudio::ts_heatmap(prueba, title = \"Mapa de calor - Exportaciones sin tendencia\")\n\n\n\n\n\n\nTSstudio::ts_heatmap(dlexportaciones, title = \"Mapa de calor - Exportaciones sin tendencia\")\n\n\n\n\n\n\n\nPerdiodograma\n\n# periodograma\nPeriodograma &lt;- spectrum(as.numeric(noTendlexportaciones_ts2[7:276]),log=\"no\",span=c(5,5))\n\n\n\n\n\nubicacionElim&lt;- which.max(Periodograma$spec)\nsprintf(\"El valor de la frecuencia donde se m√°ximiza el periodograma para la serie es: %s\",Periodograma$freq[ubicacionElim])\n\n[1] \"El valor de la frecuencia donde se m√°ximiza el periodograma para la serie es: 0.0851851851851852\"\n\n\n\nsprintf(\"El periodo correspondiente es aproximadamente: %s\",1/Periodograma$freq[ubicacionElim])\n\n[1] \"El periodo correspondiente es aproximadamente: 11.7391304347826\"\n\n\n\n# periodograma\nPeriodograma &lt;- spectrum(as.numeric(dlexportaciones),log=\"no\",span=c(5,5))\n\n\n\n\n\nubicacionElim&lt;- which.max(Periodograma$spec)\nsprintf(\"El valor de la frecuencia donde se m√°ximiza el periodograma para la serie es: %s\",Periodograma$freq[ubicacionElim])\n\n[1] \"El valor de la frecuencia donde se m√°ximiza el periodograma para la serie es: 0.416666666666667\"\n\n\n\nsprintf(\"El periodo correspondiente es aproximadamente: %s\",1/Periodograma$freq[ubicacionElim])\n\n[1] \"El periodo correspondiente es aproximadamente: 2.4\"\n\n\n\n\n\n\n\n\n Volver arriba"
  }
]